from day_3.solution import calculate_all_method_calls, calculate_valid_method_calls


class TestCalculateTotalDistance:
    sample_data = ["""-~who()?!-{ where()mul(764,406)?^why()%[how(420,460)mul(69,497)where();'&>-!when()<^mul(629,650)mul(658,217))mul(553,521)][][*}>when()>]mul(927,175)]mul(364,814) &?what()/don't()#where(705,65)%@/}'#select()(mul(333,471)who()! @!,when()${mul(754,711)/don't()mul(148,921)*$&from()don't()where())mul(455,877)(from(519,591)/who()&when()select(401,718)['mul(870,745)who()@who()mul(92,899),# /<${what()mul(301,362)-mul(408,781)why()%(how()<}^/~mul(318,503);{(*,)when()mul(814,611),how()[<mul(228,415)#where()&/who()when()^[{+mul(344,298)when()mul(636,572)& ]$;%?mul(215,309)when():*do()/mul(792,335)>  why(){,,mul(525,151)#):^?,~who()do()mul(306,819)!'>$(!mul(294,958)^&how()who()[mul(194,339)((<mul(98,917)mul(133,311))what() ?mul(457,981)^)!(~!select()-mul(667,837)*!@from()*&,mul(274,151)(~when()<?>mul(84,363)why()who()mul(711,25)]why()(}mul(31,323);select()!select()mul(85,830)>&where(),({what()<,mul(404,568));$select()where()mul(238,707)what(797,319)'[?mul(603,3)where()>mul(827,90)[mul(288,639)![ what()how();why()mul(278,751)~select()@mul(970,757)select()?how()mul(36,900)-@mul(835,851)+,!mul(908,82)~&?mul(452,524)?[{)what()mul(491,590)who()-[from()]~{mul(333,397)mul(615,16)/mul(132,775)why()'!@* mul(203,604)'how(258,168)[when() ?$mul(731,849)>,+-#why()>when(19,498)]mul(329,904)*/#'']mul(644,691)&+~what():why()/from()}$do():'+,, mul(942,653)what() mul(676,56)/''):[>@<~mul(6,697)'mul(369,485)<!}<{@mul(593,437)':^mul(587,740)#+what()<}]@mul(544,337)mul(528,533)what()why(),@[@',-#don't()how()'what(401,682)mul(418,882)*mul(991,431)!]who()&!mul(30,319)do(),!$!when())@@mul(968,612)?how()?[mul(261,949)+@]:what(528,550)why()mul(745,147)[+when()%?why()[from()mul(759,21)%mul(319,271)@mul(580,221)who()why()()(*%mul(345,819)select();(what()@;,when()mul(433,622)mul(83,145)#;from()!#what()-mul(609,269)+why()mul(741,355)#mul(850,79)^~/mul(944,589)}%when()'{mul)mul(152,384)~?)how()mul(969,921)#-from()mul(283,868)mul(243,299)%}when()@mul(399,270)where(){'~[~do()mul(402,321)who()from()+why()how(),~&from()[mul(345,576}**mul(326,623)@where()>+;select()-'/mul(102,637))who()$,!^do();&+^}why(483,625)select()<what()mul(986,145)[#;<where()mul(973,528)[mul(153,242)}mul(413,240)(mul(631,220);]who()~*mul(980,831)[mul(907,168)mul(279,745)select()why(814,898)who(29,331){why(512,74)$&mul(606,720) ?mul(555,14)mul(577,376)what() mul(18,375)don't()$%,when()+?&@mul(463,674(? */},:-:@mul(124,324)}?who()^/ #!;mulwhere()from()>;-+]+@mul(558,499)+,]$$what()mul(73,35)where()how()+!mul(800,842)<:when()where()^who()<;/]mul(621,718)&select()^{:]mul(353,215):)#[mul(299,721),how()?,mul(911,921)&from()from()%+mul(19,957)when();!),++mul(441,742),$(^}(]]mul(622,972{]]where()<:how()$;who()mul(918,303)who()!mul(504,662)}how()when()(-+?do()~where())?-'select() [mul(533,672)@select(748,65)+where()'{'>don't():$#@:(select()mul(473,262)[how())<mul(573,666)&mul(969,473)(when()*!who()$^]#mul(214,766)]<?do()why()what()select()mul(470,943)+how()how()#/(where()mul(739,932)(: ;from()^/do()mul(898,691)~where()*when()select()*what()where()%#mul(319,166-&who() ~mul(72,647)!what(285,950)%?'mul(985,540)"""]

    def test_calculate_all_method_calls(self):
        assert calculate_all_method_calls(self.sample_data) == 29727130

    def test_calculate_toggled_method_calls(self):
        assert calculate_valid_method_calls(self.sample_data) == 20594180
